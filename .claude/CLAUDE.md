# Project Overview

chezmoi-managed dotfiles repository for Ubuntu using Nix Home Manager for package management.

## Key Commands

```bash
# Apply dotfiles
chezmoi apply              # Apply all changes
chezmoi apply --dry-run -v # Preview changes

# Linting (requires shellcheck, shfmt from Nix)
just lint                  # Run shellcheck
just format                # Run shfmt
just check                 # Check formatting without modifying

# Validation
chezmoi data | jq          # View template variables
chezmoi diff               # Show differences
home-manager generations   # Check Home Manager status
```

## Architecture

```
.
├── home/                    # Files to be copied to ~/
│   ├── .chezmoi.toml.tmpl   # Profile variable (client/server)
│   ├── .chezmoiscripts/     # Install scripts (6 scripts)
│   ├── .chezmoiexternal.toml # External files (bat theme)
│   ├── dot_config/nix/      # Nix flake & Home Manager config
│   └── dot_*                # Dotfiles (dot_bashrc, dot_bashrc.d/, etc.)
├── install.sh               # Bootstrap script
└── Justfile                 # Lint/format tasks
```

## Coding Conventions

- Shell scripts: bash with `set -euo pipefail`
- Indentation: 2 spaces for shell scripts (Google Shell Style Guide)
- Script naming: `run_{once,onchange,after_onchange}_{profile}_{os}_{number}-{name}.sh.tmpl`
- Template guards: Use empty template pattern for OS/profile checks

## Git Commit Guidelines

- Check `git log` before committing to understand commit style and appropriate granularity
- Use meaningful, atomic commits - split large changes into multiple commits when appropriate
- Follow existing commit message conventions (e.g., `fix(scope): message`, `feat(scope): message`)
- Write commit messages in English
- Do not add AI attribution or "generated by" messages to commits
