{{- if eq .chezmoi.os "windows" -}}
# PowerShell 7 Profile Loader
# Location: ~/Documents/PowerShell/Microsoft.PowerShell_profile.ps1
# This file loads the XDG-compliant profile from ~/.config/powershell/
# Managed by chezmoi

# Respect XDG_CONFIG_HOME if set, otherwise use default
if ($env:XDG_CONFIG_HOME) {
    $xdgProfile = Join-Path $env:XDG_CONFIG_HOME "powershell\profile.ps1"
} else {
    $xdgProfile = Join-Path $env:USERPROFILE ".config\powershell\profile.ps1"
}
if (Test-Path $xdgProfile) {
    . $xdgProfile
}
{{- end -}}
