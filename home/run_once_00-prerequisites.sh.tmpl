#!/bin/bash
# run_once_00-prerequisites.sh.tmpl
# Install prerequisite system tools

set -e

echo "==> Checking prerequisite system tools..."

# Check if essential tools are already installed
if command -v git &>/dev/null && \
   command -v curl &>/dev/null && \
   command -v gcc &>/dev/null; then
    echo "✓ Prerequisites already installed"
else
    echo "==> Installing prerequisite packages..."

    # Update package lists
    sudo apt-get update

    # Install essential build tools and dependencies
    sudo apt-get install -y \
        build-essential \
        git \
        curl \
        vim \
        bash-completion \
        python3-dev \
        pkg-config \
        gnupg \
        locales \
        ca-certificates \
        tzdata

    echo "✓ Prerequisites installed successfully"
fi