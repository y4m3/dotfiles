// zellij config

default_mode "locked"
scroll_buffer_size 1000000

// UI settings
ui {
  pane_frames {
    hide_session_name true
  }
}
pane_frames false
theme "tokyo-night-storm"

// Keybindings
keybinds {
  locked {
    // Unlock with Alt+g (instead of Ctrl+g to avoid conflict with Claude Code)
    bind "Alt g" { SwitchToMode "Normal"; }

    // Floating pane toggle
    bind "Alt f" { ToggleFloatingPanes; }

    // Scroll/Search mode (press 's' in scroll mode to search)
    bind "Alt s" { SwitchToMode "Scroll"; }

    // Fullscreen toggle
    bind "Alt z" { ToggleFocusFullscreen; }

    // Floating <-> Embedded toggle
    bind "Alt e" { TogglePaneEmbedOrFloating; }

    // Pane rename
    bind "Alt r" { SwitchToMode "RenamePane"; PaneNameInput 0; }

    // Session manager
    bind "Alt w" {
      LaunchOrFocusPlugin "session-manager" {
        floating true
        move_to_focused_tab true
      };
      SwitchToMode "Normal"
    }

    // Pane navigation with Alt + hjkl (vim-style)
    bind "Alt h" { MoveFocusOrTab "Left"; }
    bind "Alt j" { MoveFocus "Down"; }
    bind "Alt k" { MoveFocus "Up"; }
    bind "Alt l" { MoveFocusOrTab "Right"; }

    // Pane navigation with Alt + Arrow keys
    bind "Alt Left" { MoveFocusOrTab "Left"; }
    bind "Alt Down" { MoveFocus "Down"; }
    bind "Alt Up" { MoveFocus "Up"; }
    bind "Alt Right" { MoveFocusOrTab "Right"; }

    // Tab navigation with Alt + [ ]
    bind "Alt [" { GoToPreviousTab; }
    bind "Alt ]" { GoToNextTab; }

    // Pane splitting with Alt + - \
    bind "Alt -" { NewPane "Down"; }
    bind "Alt \\" { NewPane "Right"; }

    // Pane and tab management
    bind "Alt x" { CloseFocus; }
    bind "Alt t" { NewTab; }

    // Tab navigation with Alt + 1-9
    bind "Alt 1" { GoToTab 1; }
    bind "Alt 2" { GoToTab 2; }
    bind "Alt 3" { GoToTab 3; }
    bind "Alt 4" { GoToTab 4; }
    bind "Alt 5" { GoToTab 5; }
    bind "Alt 6" { GoToTab 6; }
    bind "Alt 7" { GoToTab 7; }
    bind "Alt 8" { GoToTab 8; }
    bind "Alt 9" { GoToTab 9; }
  }

  // Use Alt+g instead of Ctrl+g to lock (for consistency)
  shared_except "locked" {
    unbind "Ctrl g"
    bind "Alt g" { SwitchToMode "Locked"; }
  }
}
