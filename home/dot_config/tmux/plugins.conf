# =============================================================================
# tmux Plugin Configuration (TPM)
# =============================================================================

# =============================================================================
# Plugin List
# =============================================================================

# TPM (Tmux Plugin Manager)
set -g @plugin 'tmux-plugins/tpm'

# Session persistence (matches Zellij session_serialization)
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Clipboard integration (enhances copy-mode)
set -g @plugin 'tmux-plugins/tmux-yank'

# =============================================================================
# tmux-resurrect Configuration
# =============================================================================

# Restore pane contents
set -g @resurrect-capture-pane-contents 'on'

# Restore neovim sessions
set -g @resurrect-strategy-nvim 'session'

# Save directory
set -g @resurrect-dir '~/.local/share/tmux/resurrect'

# =============================================================================
# tmux-continuum Configuration
# =============================================================================

# Auto-save interval (minutes)
set -g @continuum-save-interval '15'

# Auto-restore on tmux start
set -g @continuum-restore 'on'

# =============================================================================
# tmux-yank Configuration
# =============================================================================

# Use system clipboard
set -g @yank_selection_mouse 'clipboard'

# Stay in copy mode after yanking
set -g @yank_action 'copy-pipe'

# =============================================================================
# Initialize TPM
# NOTE: Keep this at the very bottom of plugins.conf
# =============================================================================

# Auto-install TPM if not present
if "test ! -d ~/.tmux/plugins/tpm" \
   "run 'git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm && ~/.tmux/plugins/tpm/bin/install_plugins'"

# Initialize TPM
run '~/.tmux/plugins/tpm/bin/tpm'
